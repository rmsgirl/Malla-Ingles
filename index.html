<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular Profesorado de Ingl칠s</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f7f8fa;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 40px;
      color: #444;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    .year-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .year-title {
      text-align: center;
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 1.2em;
    }
    .subject {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      cursor: pointer;
      position: relative;
      transition: transform 0.1s;
    }
    .subject:hover {
      transform: scale(1.02);
    }
    .completed {
      opacity: 0.5;
      text-decoration: line-through;
    }
    .locked {
      cursor: not-allowed;
      opacity: 0.6;
    }
    .tooltip {
      visibility: hidden;
      background: rgba(0,0,0,0.75);
      color: #fff;
      padding: 4px 6px;
      border-radius: 4px;
      font-size: 12px;
      position: absolute;
      left: 50%;
      top: -30px;
      transform: translateX(-50%);
      white-space: pre-line;
    }
    .subject:hover .tooltip {
      visibility: visible;
    }
    .reset-button {
      margin: 30px auto;
      display: block;
      background: #444;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>游닂 Malla Curricular Profesorado de Ingl칠s</h1>

<div class="grid" id="container"></div>

<button class="reset-button" onclick="resetProgress()">Reiniciar Progreso</button>

<script>
const yearColors = {
  "游닂 Primer A침o": "#cfe2ff",
  "游닁 Segundo A침o": "#d1e7dd",
  "游닃 Tercer A침o": "#e2d5f7",
  "游 Cuarto A침o": "#ffe5d9"
};

const data = [
  {
    year: "游닂 Primer A침o",
    subjects: [
      { name: "Alfabetizaci칩n Acad칠mica" },
      { name: "Did치ctica General", toRender: ["Pedagog칤a"] },
      { name: "Aprender, Ense침ar y Evaluar con TIC" },
      { name: "Pedagog칤a" },
      { name: "Lengua Inglesa I" },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Laboratorio I" },
      { name: "Gram치tica Inglesa I" },
      { name: "Gram치tica Espa침ola" },
      { name: "Pr치ctica Docente I" }
    ]
  },
  {
    year: "游닁 Segundo A침o",
    subjects: [
      { name: "Psicolog칤a del Aprendizaje" },
      { name: "Filosof칤a" },
      { name: "Sociolog칤a de la Educaci칩n" },
      { name: "칄tica y Ciudadan칤a" },
      { name: "Lengua Inglesa II", requirements: ["Lengua Inglesa I","Gram치tica Inglesa I"] },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Laboratorio I","Gram치tica Inglesa I"] },
      { name: "Gram치tica Inglesa II", requirements: ["Gram치tica Inglesa I"] },
      { name: "Did치ctica Especial I", requirements: ["Did치ctica General","Alfabetizaci칩n Acad칠mica","Aprender, Ense침ar y Evaluar con TIC"] },
      { name: "Sujeto de la Educaci칩n I", requirements: ["Pedagog칤a"] },
      { name: "Pr치ctica Docente II", requirements: ["Pedagog칤a","Did치ctica General"] }
    ]
  },
  {
    year: "游닃 Tercer A침o",
    subjects: [
      { name: "Ense침anza para la Inclusi칩n" },
      { name: "An치lisis de la Realidad Sociocultural de Formosa" },
      { name: "Educaci칩n Sexual Integral" },
      { name: "Historia y Pol칤tica de la Educaci칩n Argentina" },
      { name: "Lengua Inglesa III", requirements: ["Lengua Inglesa II"] },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab III", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II","Gram치tica Inglesa II","Lengua Inglesa II"] },
      { name: "Gram치tica Contrastiva Ingl칠s-Espa침ol", requirements: ["Gram치tica Inglesa II"] },
      { name: "Did치ctica Especial II", requirements: ["Did치ctica Especial I"] },
      { name: "Sujeto de la Educaci칩n II", requirements: ["Sujeto de la Educaci칩n I"] },
      { name: "Pr치ctica Docente III y Residencia Profesional I", requirements: ["Sujeto de la Educaci칩n II","Psicolog칤a del Aprendizaje","Did치ctica Especial I"] },
      { name: "Sociedad y Cultura de los Pueblos de habla Inglesa", requirements: ["Lengua Inglesa II"] },
      { name: "Dicci칩n de la Lengua Inglesa", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II","Gram치tica Inglesa II","Lengua Inglesa II"] }
    ]
  },
  {
    year: "游 Cuarto A침o",
    subjects: [
      { name: "Lengua Inglesa IV", requirements: ["Lengua Inglesa III","Gram치tica Contrastiva Ingl칠s-Espa침ol","Dicci칩n de la Lengua Inglesa"] },
      { name: "Literatura de los Pueblos de Habla Inglesa", requirements: ["Lengua Inglesa III","Gram치tica Inglesa II","Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II","Sociedad y Cultura de los Pueblos de habla Inglesa"] },
      { name: "Ling칲칤stica General y Aplicada", requirements: ["Lengua Inglesa III"] },
      { name: "Pr치ctica Docente IV y Residencia Profesional II", requirements: ["Sujeto de la Educaci칩n II","Lengua Inglesa III","Dicci칩n de la Lengua Inglesa"] },
      { name: "Gesti칩n y Organizaci칩n Escolar" },
      { name: "Espacio de Definici칩n Institucional" }
    ]
  }
];

const container = document.getElementById("container");
let progress = JSON.parse(localStorage.getItem("progress")) || {};

function saveProgress() {
  localStorage.setItem("progress", JSON.stringify(progress));
}

function resetProgress() {
  if (confirm("쯉eguro que quieres reiniciar el progreso?")) {
    progress = {};
    saveProgress();
    render();
  }
}

function toggleSubject(name) {
  if (isLocked(name)) return;
  progress[name] = !progress[name];
  saveProgress();
  render();
}

function isLocked(name) {
  const subj = allSubjects[name];
  if (!subj.requirements) return false;
  return !subj.requirements.every(r => progress[r]);
}

let allSubjects = {};

function render() {
  container.innerHTML = "";
  allSubjects = {};
  data.forEach(block => {
    const column = document.createElement("div");
    column.className = "year-column";

    const title = document.createElement("div");
    title.className = "year-title";
    title.textContent = block.year;
    column.appendChild(title);

    block.subjects.forEach(subj => {
      allSubjects[subj.name] = subj;
      const div = document.createElement("div");
      div.className = "subject";
      div.style.background = yearColors[block.year];
      div.textContent = subj.name;

      if (progress[subj.name]) div.classList.add("completed");
      if (isLocked(subj.name)) div.classList.add("locked");

      div.onclick = () => toggleSubject(subj.name);

      if (isLocked(subj.name)) {
        const tooltip = document.createElement("div");
        tooltip.className = "tooltip";
        tooltip.textContent = "Faltan aprobar:\n" + subj.requirements.filter(r => !progress[r]).join("\n");
        div.appendChild(tooltip);
      }

      column.appendChild(div);
    });

    container.appendChild(column);
  });
}

render();
</script>
</body>
</html>
