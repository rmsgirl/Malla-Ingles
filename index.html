<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Curricular Profesorado de Ingl칠s</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f2f4f8;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      margin-top: 40px;
      color: #4a6fa5;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    .subject {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      cursor: pointer;
      position: relative;
      transition: background 0.2s;
    }
    .subject.completed {
      background: #d4edda;
      text-decoration: line-through;
    }
    .subject.locked {
      background: #f8d7da;
      cursor: not-allowed;
      opacity: 0.7;
    }
    .subject .tooltip {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: left;
      padding: 5px;
      border-radius: 4px;
      position: absolute;
      z-index: 1;
      bottom: 110%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 12px;
      width: max-content;
      max-width: 200px;
    }
    .subject:hover .tooltip {
      visibility: visible;
    }
    button {
      margin: 20px auto;
      display: block;
      background: #4a6fa5;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1 style="text-align:center;">游닂 Malla Curricular Profesorado de Ingl칠s</h1>

<div id="container"></div>

<button onclick="resetProgress()">Reiniciar Progreso</button>

<script>
const data = [
  {
    year: "游닂 Primer A침o",
    subjects: [
      { name: "Alfabetizaci칩n Acad칠mica" },
      { name: "Did치ctica General", toRender: ["Pedagog칤a"] },
      { name: "Aprender, Ense침ar y Evaluar con TIC" },
      { name: "Pedagog칤a" },
      { name: "Lengua Inglesa I" },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Laboratorio I" },
      { name: "Gram치tica Inglesa I" },
      { name: "Gram치tica Espa침ola" },
      { name: "Pr치ctica Docente I" }
    ]
  },
  {
    year: "游닁 Segundo A침o",
    subjects: [
      { name: "Psicolog칤a del Aprendizaje" },
      { name: "Filosof칤a" },
      { name: "Sociolog칤a de la Educaci칩n" },
      { name: "칄tica y Ciudadan칤a" },
      { name: "Lengua Inglesa II", requirements: ["Lengua Inglesa I", "Gram치tica Inglesa I"] },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Laboratorio I", "Gram치tica Inglesa I"] },
      { name: "Gram치tica Inglesa II", requirements: ["Gram치tica Inglesa I"] },
      { name: "Did치ctica Especial I", requirements: ["Did치ctica General", "Alfabetizaci칩n Acad칠mica", "Aprender, Ense침ar y Evaluar con TIC"] },
      { name: "Sujeto de la Educaci칩n I", requirements: ["Pedagog칤a"] },
      { name: "Pr치ctica Docente II", requirements: ["Pedagog칤a", "Did치ctica General"] }
    ]
  },
  {
    year: "游닃 Tercer A침o",
    subjects: [
      { name: "Ense침anza para la Inclusi칩n" },
      { name: "An치lisis de la Realidad Sociocultural de Formosa" },
      { name: "Educaci칩n Sexual Integral" },
      { name: "Historia y Pol칤tica de la Educaci칩n Argentina" },
      { name: "Lengua Inglesa III", requirements: ["Lengua Inglesa II"] },
      { name: "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab III", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II", "Gram치tica Inglesa II", "Lengua Inglesa II"] },
      { name: "Gram치tica Contrastiva Ingl칠s-Espa침ol", requirements: ["Gram치tica Inglesa II"] },
      { name: "Did치ctica Especial II", requirements: ["Did치ctica Especial I"] },
      { name: "Sujeto de la Educaci칩n II", requirements: ["Sujeto de la Educaci칩n I"] },
      { name: "Pr치ctica Docente III y Residencia Profesional I", requirements: ["Sujeto de la Educaci칩n II", "Psicolog칤a del Aprendizaje", "Did치ctica Especial I"] },
      { name: "Sociedad y Cultura de los Pueblos de habla Inglesa", requirements: ["Lengua Inglesa II"] },
      { name: "Dicci칩n de la Lengua Inglesa", requirements: ["Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II", "Gram치tica Inglesa II", "Lengua Inglesa II"] }
    ]
  },
  {
    year: "游 Cuarto A침o",
    subjects: [
      { name: "Lengua Inglesa IV", requirements: ["Lengua Inglesa III", "Gram치tica Contrastiva Ingl칠s-Espa침ol", "Dicci칩n de la Lengua Inglesa"] },
      { name: "Literatura de los Pueblos de Habla Inglesa", requirements: ["Lengua Inglesa III", "Gram치tica Inglesa II", "Fon칠tica y Fonolog칤a Inglesa con Pr치ctica en Lab II", "Sociedad y Cultura de los Pueblos de habla Inglesa"] },
      { name: "Ling칲칤stica General y Aplicada", requirements: ["Lengua Inglesa III"] },
      { name: "Pr치ctica Docente IV y Residencia Profesional II", requirements: ["Sujeto de la Educaci칩n II", "Lengua Inglesa III", "Dicci칩n de la Lengua Inglesa"] },
      { name: "Gesti칩n y Organizaci칩n Escolar" },
      { name: "Espacio de Definici칩n Institucional" }
    ]
  }
];

const container = document.getElementById("container");
let progress = JSON.parse(localStorage.getItem("progress")) || {};

function saveProgress() {
  localStorage.setItem("progress", JSON.stringify(progress));
}

function resetProgress() {
  if (confirm("쯉eguro que quieres reiniciar el progreso?")) {
    progress = {};
    saveProgress();
    render();
  }
}

function toggleSubject(name) {
  if (isLocked(name)) return;
  progress[name] = !progress[name];
  saveProgress();
  render();
}

function isLocked(name) {
  const subj = allSubjects[name];
  if (!subj.requirements) return false;
  return !subj.requirements.every(r => progress[r]);
}

let allSubjects = {};

function render() {
  container.innerHTML = "";
  allSubjects = {};
  data.forEach(block => {
    const yearTitle = document.createElement("h2");
    yearTitle.textContent = block.year;
    container.appendChild(yearTitle);

    const grid = document.createElement("div");
    grid.className = "grid";

    block.subjects.forEach(subj => {
      allSubjects[subj.name] = subj;
      const div = document.createElement("div");
      div.className = "subject";
      if (progress[subj.name]) div.classList.add("completed");
      if (isLocked(subj.name)) div.classList.add("locked");
      div.textContent = subj.name;
      div.onclick = () => toggleSubject(subj.name);

      if (isLocked(subj.name)) {
        const tooltip = document.createElement("div");
        tooltip.className = "tooltip";
        tooltip.textContent = "Faltan aprobar: " + subj.requirements.filter(r => !progress[r]).join(", ");
        div.appendChild(tooltip);
      }

      grid.appendChild(div);
    });
    container.appendChild(grid);
  });
}

render();
</script>
</body>
</html>
